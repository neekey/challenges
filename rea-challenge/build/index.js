!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}var o=n(1),a=r(o),s=n(2),c=r(s),d=n(3),l=r(d);n(14),i(function(){function e(e){c["default"].addSaved(e),n()}function t(e){c["default"].removeSaved(e),n()}function n(){o.updateList(c["default"].getResults()),s.updateList(c["default"].getSaved())}var r=document.getElementById("J_PropertyResults"),i=document.getElementById("J_PropertySaved"),o=new l["default"]([],{el:r,onAdd:e}),s=new l["default"]([],{el:i,onRemove:t});c["default"].setUp(a["default"]),n()})},function(e,t){e.exports={results:[{price:"$726,500",agency:{brandingColors:{primary:"#ffe512"},logo:"http://i1.au.reastatic.net/agencylogo/XRWXMT/12/20120927204448.gif"},id:"1",mainImage:"http://i2.au.reastatic.net/640x480/20bfc8668a30e8cabf045a1cd54814a9042fc715a8be683ba196898333d68cec/main.jpg"},{price:"$560,520",agency:{brandingColors:{primary:"#fcfa3b"},logo:"http://i4.au.reastatic.net/agencylogo/BFERIC/12/20150619122858.gif"},id:"2",mainImage:"http://i1.au.reastatic.net/640x480/88586227f9176f602d5c19cf06261108dbb29f03e30d1c4ce9fc2b51fb1e4bd6/main.jpg"},{price:"$826,500",agency:{brandingColors:{primary:"#57B5E0"},logo:"http://i1.au.reastatic.net/agencylogo/XCEWIN/12/20150807093203.gif"},id:"3",mainImage:"http://i4.au.reastatic.net/640x480/98cee1b2a3a64329921fc38f7e2926a78d41fcc683fc48fb8a8ef2999b14c027/main.jpg"}],saved:[{price:"$526,500",agency:{brandingColors:{primary:"#000000"},logo:"http://i2.au.reastatic.net/agencylogo/WVYSSK/2/20140701084436.gif"},id:"4",mainImage:"http://i2.au.reastatic.net/640x480/5e84d96722dda3ea2a084d6935677f64872d1d760562d530c3cabfcb7bcda9c2/main.jpg"}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=[],i=[],o={};t["default"]={_validatePropertyId:function(e){if(e in o)return!0;throw new Error("Failed to add a non-existent property by id "+e)},_propagateProperties:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,t){var r=o[t];return r&&e.push(n({},r,{saved:i.indexOf(t)>-1})),e},[])},setUp:function(e){var t=e.results,n=e.saved;r=t.map(function(e){return e.id}),i=n.map(function(e){return e.id}),o=t.concat(n).reduce(function(e,t){return e[t.id]=t,e},{})},getResults:function(){return this._propagateProperties(r)},getSaved:function(){return this._propagateProperties(i)},addSaved:function(e){if(this._validatePropertyId(e),i.indexOf(e)!==-1)throw new Error("Property with a id="+e+" is already saved.");i.push(e)},removeSaved:function(e){this._validatePropertyId(e);var t=i.indexOf(e);if(!(t>-1))throw new Error("Property with a id="+e+" is already saved.");i.splice(t,1)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),c=n(9),d=r(c);n(12);var l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=arguments[1];n.el,n.onAdd,n.onRemove;i(this,e),this.el=null,this.properties={},this.data=t,this.config=arguments[1],this.el=this.config.el,this.render()}return o(e,[{key:"_clean",value:function(){var e=this;Object.keys(this.properties).forEach(function(t){e.properties[t].remove()}),this.properties={},this.el.innerHTML=""}},{key:"render",value:function(){var e=this;this.data.length?!function(){var t=e.data.map(function(e){return e.id});Object.keys(e.properties).forEach(function(n){t.indexOf(n)===-1&&(e.properties[n].remove(),delete e.properties[n])}),e.data.forEach(function(t){if(t.id in e.properties)e.properties[t.id].updateData(t);else{var n=document.createElement("div");n.className="property-wrapper",e.properties[t.id]=new s["default"](t,{el:n,onAdd:e.config.onAdd,onRemove:e.config.onRemove}),e.el.appendChild(n)}})}():this._clean()}},{key:"updateList",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,d["default"])(e,this.data)||(this.data=e,this.render())}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(5);var a=n(9),s=r(a),c=function(){function e(t,n){t.id,t.price,t.agency,t.mainImage,t.saved,n.el,n.onAdd,n.onRemove;i(this,e),this.el=null,this.addEl=null,this.removeEl=null,this.data=arguments[0],this.config=arguments[1],this.el=this.config.el,this._valid(),this.render()}return o(e,[{key:"_valid",value:function(){if("undefined"==typeof this.data.id)throw new Error("id is missing");if(!(this.config.el instanceof HTMLElement))throw new Error("el must be a valid HTMLElement");this.data.agency?this.data.agency.brandingColors||(this.data.agency.brandingColors={primary:""}):this.data.agency={brandingColors:{primary:""}}}},{key:"_clean",value:function(){this.el.innerHTML="",this.removeEl=null,this.addEl=null}},{key:"getData",value:function(){return this.data}},{key:"render",value:function(){this._clean(),this.el.innerHTML='\n            <div class="property">\n                <div class="agency" style="background: '+this.data.agency.brandingColors.primary+';">\n                    <img class="logo" src="'+this.data.agency.logo+'" />\n                </div>\n                <div class="preview" style="background-image: url('+this.data.mainImage+');"></div>\n                <div class="price">'+this.data.price+'</div>\n                <div class="action J_Action"></div>\n            </div>\n        ';var e=this.el.getElementsByClassName("J_Action")[0];this.data.saved&&this.config.onRemove&&(this.removeEl=document.createElement("div"),this.removeEl.innerHTML="Remove Property",this.removeEl.className="remove",e.appendChild(this.removeEl),this.removeEl.onclick=this.config.onRemove.bind(null,this.data.id)),!this.data.saved&&this.config.onAdd&&(this.addEl=document.createElement("div"),this.addEl.innerHTML="Add Property",this.addEl.className="add",e.appendChild(this.addEl),this.addEl.onclick=this.config.onAdd.bind(null,this.data.id))}},{key:"updateData",value:function(e){e.id,e.price,e.agency,e.mainImage;(0,s["default"])(arguments[0],this.data)||(this.data=arguments[0],this.render())}},{key:"remove",value:function(){this._clean(),this.el.remove()}}]),e}();t["default"]=c},function(e,t,n){var r=n(6);"string"==typeof r&&(r=[[e.id,r,""]]);n(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".property{border-radius:10px;width:100%;overflow:hidden;background:#fff;padding-bottom:20px}.property .agency{height:40px;line-height:40px;text-align:center;margin-bottom:20px}.property .agency .logo{height:30px;line-height:40px;vertical-align:middle}.property .preview{background-repeat:no-repeat;background-position:50%;background-size:contain;height:200px;margin-bottom:10px}.property .price{font-size:18px;margin-bottom:10px;font-family:arial}.property .action{text-align:center;height:25px}.property .action div{font-size:14px;line-height:25px;padding:0 10px;border-radius:10px;color:#fff;cursor:pointer;width:50%;display:none}.property .action div.add{background:#66b366}.property .action div.remove{background:#f36666}.property:hover .action div{display:inline-block}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(d(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(d(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],c=i[3],d={css:a,media:s,sourceMap:c};n[o]?n[o].parts.push(d):t.push(n[o]={id:o,parts:[d]})}return t}function o(e,t){var n=v(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function d(e,t){var n,r,i;if(t.singleton){var o=m++;n=y||(y=s(t)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=f.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=u.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function l(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=p[s.id];c.refs--,o.push(c)}if(e){var d=i(e);r(d,t)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,l;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return!!c(t)&&(e=a.call(e),t=a.call(t),d(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var u=s(e),f=s(t)}catch(p){return!1}if(u.length!=f.length)return!1;for(u.sort(),f.sort(),o=u.length-1;o>=0;o--)if(u[o]!=f[o])return!1;for(o=u.length-1;o>=0;o--)if(l=u[o],!d(e[l],t[l],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(10),c=n(11),d=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.id,r,""]]);n(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".property-wrapper{padding:20px}",""])},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.id,r,""]]);n(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"body{padding:0;margin:0;border:0;text-align:center;background:#eee}.main{width:1000px;margin:auto;font-size:0}.property-list{font-size:12px;width:40%;display:inline-block;box-sizing:border-box;background:#dedede;vertical-align:top;margin:0 10px;min-height:100px}.property-list .title{margin:0;padding:15px;background:#000;color:#fff}",""])}]);